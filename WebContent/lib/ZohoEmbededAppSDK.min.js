var ZOHO={};
ZOHO.embededApp=function(){function b(a){return a&&"object"===typeof a?!0:!1}var d=void 0;this.callBackMap={};return{isAllowedOrigin:function(a){return"https://naresh-2182.csez.zohocorpin.com:9091"!=a?(console.error("Ignoring Message from:"+a+" with Data:"+event.data),!1):!0},events:{DialerActive:function(a){console.info("TelephonyInit:"+JSON.stringify(a))},Dial:function(a){console.info("TelephonyCall : "+JSON.stringify(a))},PageLoad:function(a){console.info("EntityPageLoad : "+JSON.stringify(a))}},customEvents:{},init:function(a){if(b(a)){var e=
a.events;if(b(e))for(temp in e)this.events[temp]&&(this.events[temp]=e[temp]);a=a.customEvents;if(b(a))for(temp in a)this.customEvent[temp]=a[temp]}},request:function(a){var e=Math.random().toString(36).substr(2,16);window.parent.postMessage({WidgetID:d,CallBackID:e,Data:a},"https://naresh-2182.csez.zohocorpin.com:9091");var c;a=new Promise(function(a,e){c=a});callBackMap[e]={promise:c};return a},handleEvent:function(a){"Config"==a.data.type?d=a.data.config.widgetID:this.handleMsg(a.data)},handleMsg:function(a){var e=
a.Event,c=a.wd;"Event"===a.type?(a=ZOHO.embededApp.events[e],"function"===typeof a&&a(c)):"CustomEvent"===a.type?(a=ZOHO.embededApp.customEvents[e],"function"===typeof a&&a(c)):"CallBack"===a.type&&(a=callBackMap[a.callBackID].promise,a(c))}}}();window.addEventListener("message",function(b){ZOHO.embededApp.isAllowedOrigin(b.origin||b.originalEvent.origin)&&b&&"object"===typeof b.data&&ZOHO.embededApp.handleEvent(b)});ZOHO.CRM=function(){function b(a){return new Promise(function(c,b){ZOHO.embededApp.request(a).then(function(a){c(a)})})}function d(a,c){var f=c.url,d=c.params,k=c.headers,l=c.body;if(!f)throw{Message:"Url missing"};if(d){var h=[],g;for(g in d)h.push(encodeURIComponent(g)+"\x3d"+encodeURIComponent(d[g]));d=h.join("\x26");f+=(-1<f.indexOf("?")?"\x26":"?")+d}debugger;return b({category:"Connector",nameSpace:a,data:{url:f,Header:k,Body:l}})}function a(a){$.extend(a,{category:"UI"});return b(a)}return{CONFIG:{getOrgVariable:function(a){return b({category:"CONFIG",
type:"variable",nameSpace:a})},getUserInfo:function(){return b({category:"CONFIG",type:"user",nameSpace:void 0})}},API:{addNotes:function(a){var c=a.Entity,d=a.RecordID;a=JSON.stringify({data:[{Note_Title:a.Title,Note_Content:a.Content}]});return b({category:"Create",Entity:c,RelatedEntity:"Notes",RelatedID:d,APIData:a})},getRecord:function(a){return b({category:"Read",Entity:a.Entity,RecordID:a.RecordID})}},INTERACTION:{getPageInfo:function(){return b({category:"PageInfo"})}},UI:{Dialer:{maximize:function(){return a({action:{telephony:"maximize"}})},
minimize:function(){return a({action:{telephony:"minimize"}})},notify:function(){return a({action:{telephony:"notify"}})},resize:function(a,b){}}},HTTP:{get:function(a){return d("wget.post",a)},post:function(a){return d("wget.post",a)}},CONNECTOR:{invokeAPI:function(a,b){return d(a,b)}}}}();